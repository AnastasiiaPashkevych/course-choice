<div class="container">
  <div>
    <h1>Обрані дисципліни</h1>

    <p-toast></p-toast>
    <p-table [value]="studentsList" styleClass="p-datatable-gridlines" dataKey="id"
             [tableStyle]="{ 'min-width': '60rem' }">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="lastName">Прізвище Ім'я По-батькові
            <p-sortIcon field="lastName"></p-sortIcon>
          </th>
          <th>Обрані дисципліни</th>
          <th pSortableColumn="group">Група
            <p-sortIcon field="group"></p-sortIcon>
          </th>
          <th pSortableColumn="department">Факультет
            <p-sortIcon field="department"></p-sortIcon>
          </th>
          <th pSortableColumn="course">Курс
            <p-sortIcon field="course"></p-sortIcon>
          </th>
          <th pSortableColumn="specialtyCode">Код спеціальності
            <p-sortIcon field="specialtyCode"></p-sortIcon>
          </th>
          <th pSortableColumn="email">Email
            <p-sortIcon field="email"></p-sortIcon>
          </th>
        </tr>

        <tr>
          <th>
            <p-columnFilter type="text" field="lastName"></p-columnFilter>
          </th>
          <th>
          </th>
          <th>
            <p-columnFilter type="text" field="group"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter field="department" matchMode="equals" [showMenu]="false">
              <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                <p-dropdown appendTo="body" [ngModel]="value" [options]="departments" (onChange)="filter($event.value)"
                            placeholder="Any"
                            [showClear]="true">
                  <ng-template let-option pTemplate="item">
                    <p-tag [value]="option.value"></p-tag>
                  </ng-template>
                </p-dropdown>
              </ng-template>
            </p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="course"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="specialtyCode"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="email"></p-columnFilter>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-student>
        <tr>
          <td>{{student.lastName}} {{student.firstName}} {{student.surname}}</td>
          <td>
            <div *ngFor="let course of student.selectedCourses">
              {{course.educationalComponent}} - {{course.name}}
            </div>
          </td>
          <td>{{student.group}}</td>
          <td>{{student.department}}</td>
          <td>{{student.course}}</td>
          <td>{{student.specialtyCode}}</td>
          <td>{{student.email}}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

